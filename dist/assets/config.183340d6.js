import{d as k,r as f,w as C,a as b,u as V,c as N,b as U,o as d,e as _,f as j,g as S,h as t,i as e,j as g,t as B,k as l,v as a,l as h}from"./index.a118af5b.js";const O={class:"flex justify-center items-center h-screen"},D=t("div",{class:"text-white i-carbon-home"},null,-1),J={class:"border rounded-xl p-2 text-white flex flex-col custom-width w-max"},q={class:"flex justify-between items-center"},A=t("h1",{class:"text-xl font-bold"},"Config",-1),E={key:0,class:"text-red"},M=t("label",null,"username",-1),R=t("label",null,"password",-1),T=t("label",null,"path",-1),z=["disabled"],F=t("label",null,"client-id",-1),G=t("label",null,"client-secret",-1),K=k({__name:"config",async setup(H){let i,p;const c=f(([i,p]=C(()=>h("get_config")),i=await i,p(),i)),m=b(c.username===""),s=f({...c}),r=b(""),x=V();async function v(){try{await h("set_config",{newConfig:s}),console.log("login success"),x.push("/")}catch(u){console.log(u),r.value=u}m.value=!1,Object.assign(c,s)}const w=N(()=>JSON.stringify(c)===JSON.stringify(s));return(u,n)=>{const y=U("router-link");return d(),_("div",O,[j(y,{class:"absolute top-0 left-0 bg-primaryl p-1 rounded m-1",to:"/"},{default:S(()=>[D]),_:1}),t("div",J,[t("div",q,[A,e(w)?g("",!0):(d(),_("button",{key:0,class:"bg-rose-500 px-2 py-1 self-end rounded leading-none",onClick:v},"Save"))]),e(r)?(d(),_("p",E,B(e(r)),1)):g("",!0),M,l(t("input",{class:"input mb-2","onUpdate:modelValue":n[0]||(n[0]=o=>e(s).username=o)},null,512),[[a,e(s).username]]),R,l(t("input",{class:"input mb-2","onUpdate:modelValue":n[1]||(n[1]=o=>e(s).password=o)},null,512),[[a,e(s).password]]),T,l(t("input",{class:"input mb-2","onUpdate:modelValue":n[2]||(n[2]=o=>e(s).path=o),disabled:!e(m)},null,8,z),[[a,e(s).path]]),F,l(t("input",{class:"input mb-2","onUpdate:modelValue":n[3]||(n[3]=o=>e(s).client_id=o)},null,512),[[a,e(s).client_id]]),G,l(t("input",{class:"input mb-2","onUpdate:modelValue":n[4]||(n[4]=o=>e(s).client_secret=o)},null,512),[[a,e(s).client_secret]])])])}}});export{K as default};
